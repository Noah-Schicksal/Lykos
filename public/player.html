<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Lykos | Course Player</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
    rel="stylesheet" />

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/toast.css" />
  <link rel="stylesheet" href="css/player.css" />
</head>

<body class="molecular-bg">
  <!-- Navbar (Simplified) -->
  <!-- Navbar -->
  <nav class="navbar">
    <div class="container-xl nav-inner">
      <a href="index.html" class="logo-container" style="text-decoration: none">
        <div class="logo-icon">
          <span class="material-symbols-outlined">science</span>
        </div>
        <span class="logo-text hidden lg:block">Lykos</span>
      </a>

      <!-- Search (Optional for Player, keeping consistent with Home) -->
      <div class="search-bar-container hidden md:block" style="margin-left: 2rem; margin-right: 2rem">
        <div class="search-icon-wrapper">
          <span class="material-symbols-outlined" style="font-size: 1.25rem">search</span>
        </div>
        <!-- Search input disabled in player context or redirects to home search -->
        <input class="search-input" placeholder="Search courses..." type="text" onkeydown="
              if (event.key === 'Enter')
                window.location.href = 'index.html?search=' + this.value;
            " />
      </div>


      <div class="nav-right-actions">
        <!-- Theme Toggle Button -->
        <button class="btn-icon" id="theme-toggle" aria-label="Alternar tema">
          <span class="material-symbols-outlined theme-icon dark-icon">dark_mode</span>
          <span class="material-symbols-outlined theme-icon light-icon">light_mode</span>
        </button>

        <!-- User Avatar (Triggers Auth Card) -->
        <div id="user-avatar-btn">
          <img alt="User avatar"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuCYH54o-pesZe_AaOpu7x_4oQp7OS21INF7YcU6bV52w6jH7YHib3H0iuZxRU9o91FKg0rVUUK8-7knG5zwYG-haYnr9ZYQ-ecwzVJLTlkxQjpj9OzF3dEle3RcTAuFMsnUnYxdNKLlfbUB1XjzcroWiCAPMZ1hygMfvLMV5y-2wrZ-yy0zAlklxLPXhC2lFCR-qlCbWyttDE9U4wwUpq2oA6QLGIsY2VbXPr8vwlv5mxgToWfuApwOBNiLmGif4UEExzp-7cKx5pdQ" />
        </div>
      </div>
    </div>
  </nav>

  <!-- Auth Flip Card (Hidden/Overlay logic same as Home) -->
  <div id="auth-card-container" class="auth-container perspective-1000">
    <div id="auth-card" class="flip-card-inner">
      <!-- Logged In View (Only view needed for Player usually) -->
      <div id="auth-logged-in" class="auth-face" style="
            justify-content: center;
            align-items: center;
            text-align: center;
          ">
        <div class="user-avatar-large">
          <span class="material-symbols-outlined" style="font-size: 3rem; color: var(--primary)">account_circle</span>
        </div>
        <h3 id="user-name-display" class="auth-title" style="margin-bottom: 0.25rem">
          User Name
        </h3>
        <p id="user-email-display" style="
              font-size: 0.875rem;
              color: var(--text-muted);
              margin-bottom: 0.5rem;
            ">
          user@example.com
        </p>

        <div class="flex-col gap-2" style="width: 100%">
          <button id="btn-view-profile" class="btn-dashboard">
            <span class="material-symbols-outlined">person</span> View Profile
          </button>
          <button id="btn-logout" class="btn-dashboard outline">
            <span class="material-symbols-outlined">logout</span> Logout
          </button>
        </div>
      </div>

      <!-- Profile View (View Mode) -->
      <div id="auth-profile-view" class="auth-face hidden">
        <div style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 1.5rem;
            ">
          <h3 class="auth-title" style="margin: 0">My Profile</h3>
          <button id="btn-back-from-profile" class="btn-icon">
            <span class="material-symbols-outlined">arrow_back</span>
          </button>
        </div>

        <div class="user-avatar-large" style="margin-bottom: 1rem">
          <span class="material-symbols-outlined" style="font-size: 3rem; color: var(--primary)">account_circle</span>
        </div>

        <div style="text-align: left; width: 100%; margin-bottom: 1.5rem">
          <div style="margin-bottom: 1rem">
            <label class="auth-label">Name</label>
            <p id="profile-view-name" style="color: var(--text-primary); font-weight: 500">
              User Name
            </p>
          </div>
          <div style="margin-bottom: 1rem">
            <label class="auth-label">Email</label>
            <p id="profile-view-email" style="color: var(--text-primary); font-weight: 500">
              user@example.com
            </p>
          </div>
          <div style="margin-bottom: 1rem">
            <label class="auth-label">Role</label>
            <p id="profile-view-role" style="color: var(--text-primary); font-weight: 500">
              Student
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <main class="main-content player-layout">
    <!-- Left Column: Video & Details -->
    <div class="player-content">
      <!-- Breadcrumb Navigation -->
      <nav class="breadcrumb-player" id="breadcrumb-nav">
        <span class="breadcrumb-item" id="breadcrumb-course">Course Name</span>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item" id="breadcrumb-module">Module Name</span>
      </nav>

      <div class="video-container-wrapper">
        <div id="video-placeholder" class="video-placeholder">
          <span class="material-symbols-outlined icon">play_circle</span>
          <p>Selecione uma aula para começar</p>
        </div>
        <iframe id="video-frame" class="video-frame" src="" title="Video Player" frameborder="0" allow="
              accelerometer;
              autoplay;
              clipboard-write;
              encrypted-media;
              gyroscope;
              picture-in-picture;
              web-share;
            " referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <video id="html5-player" class="video-frame hidden" controlsList="nodownload">
          Seu navegador não suporta a tag de vídeo.
        </video>

        <!-- Custom Video Controls -->
        <div id="video-controls" class="video-controls hidden">
          <!-- Progress Bar -->
          <div class="progress-container-video">
            <div class="progress-bar-bg">
              <div id="video-progress-fill" class="progress-bar-fill" style="width: 0%"></div>
            </div>
            <input type="range" id="video-seek-slider" class="seek-slider" min="0" max="100" value="0" step="0.1">
          </div>

          <div class="controls-main">
            <div class="controls-left">
              <button id="btn-play-pause" class="control-btn">
                <span class="material-symbols-outlined">play_arrow</span>
              </button>

              <div class="volume-container">
                <button id="btn-volume" class="control-btn">
                  <span class="material-symbols-outlined">volume_up</span>
                </button>
                <input type="range" id="volume-slider" class="volume-slider" min="0" max="1" step="0.05" value="1">
              </div>

              <div class="time-display">
                <span id="current-time">0:00</span> / <span id="duration">0:00</span>
              </div>
            </div>

            <div class="controls-right">
              <button id="btn-fullscreen" class="control-btn">
                <span class="material-symbols-outlined">fullscreen</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="class-info-section">
        <!-- Header with Title -->
        <div class="class-header">
          <h1 id="class-title" class="class-title">Título da Aula</h1>
          <div class="class-actions">
            <button id="btn-toggle-sidebar-restore" class="btn-action hidden">
              <span class="material-symbols-outlined">menu_open</span>
              <span class="btn-text">Mostrar Aulas</span>
            </button>
            <button id="btn-mark-completed" class="btn-action">
              <span class="material-symbols-outlined">check_circle</span>
              <span class="btn-text">Marcar como Concluída</span>
            </button>
          </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs-container">
          <button class="tab-btn active" data-tab="description">
            Description
          </button>
          <button class="tab-btn" data-tab="resources">
            Resources
          </button>
        </div>

        <!-- Tab Contents -->
        <div class="tab-content active" id="tab-description">
          <h3 class="tab-section-title">About this lesson</h3>
          <p id="class-description" class="class-description">
            Descrição da aula aparecerá aqui...
          </p>
        </div>

        <div class="tab-content" id="tab-resources">
          <h3 class="tab-section-title">Learning Resources</h3>
          <div id="materials-list" class="materials-list">
            <p class="no-materials-message">Nenhum material disponível para esta aula.</p>
          </div>
        </div>


      </div>
    </div>

    <!-- Right Column: Sidebar -->
    <aside class="player-sidebar">
      <button id="btn-drawer-toggle" class="drawer-toggle-btn" aria-label="Toggle Sidebar">
        <span class="material-symbols-outlined">double_arrow</span>
      </button>

      <div class="sidebar-header">
        <div style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 0.5rem;
            ">
          <div style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 0.5rem;
            ">
            <a href="index.html" class="btn-sidebar-action">
              <span class="material-symbols-outlined" style="font-size: 1.1rem">arrow_back</span>
              Voltar
            </a>
          </div>

        </div>
        <h2 class="course-title-sidebar" id="course-title">Nome do Curso</h2>
        <div class="progress-container">
          <div class="flex justify-between" style="font-size: 0.75rem; margin-bottom: 0.25rem">
            <span>Course Progress: <span id="course-progress-text">0%</span></span>
            <span id="course-lessons-completed" style="color: var(--text-muted);">0/0 Lessons Completed</span>
          </div>
          <div class="progress-bar">
            <div id="course-progress-fill" class="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>

      <!-- Next Lesson Button -->
      <button id="btn-next-lesson" class="btn-next-lesson hidden">
        <span class="btn-text">Next Lesson</span>
        <span class="material-symbols-outlined">arrow_forward</span>
      </button>

      <div id="modules-list" class="modules-accordion">
        <p style="padding: 1rem; text-align: center; color: var(--text-muted)">
          Carregando aulas...
        </p>
      </div>
    </aside>
  </main>

  <script type="module" src="js/player.js"></script>
</body>

</html>